@import "tailwindcss";

@theme {
  /* Define your project colors here */
  --color-primary: #3B82F6;
  --color-secondary: #10B981;
  --color-background: #FFFFFF;
  --font-family-display: sans-serif;
  --font-family-body: sans-serif;
  --font-family-mono: 'IBM Plex Mono', monospace;
}

/* IBM Plex Mono */
@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 100;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Thin.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 100;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-ThinItalic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 200;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-ExtraLight.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 200;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-ExtraLightItalic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Light.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 300;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-LightItalic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Regular.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Italic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 450;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Text.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 450;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-TextItalic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Medium.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 500;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-MediumItalic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-SemiBold.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 600;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-SemiBoldItalic.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-Bold.woff2') format('woff2');
}

@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/ibm-plex-mono/IBMPlexMono-BoldItalic.woff2') format('woff2');
}

html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  background-color: var(--page-bg, #FDFDFD);
  transition: background-color 1s cubic-bezier(0.4, 0, 0.2, 1);
}

body {
  font-family: var(--font-family-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* High contrast mode - force white background on html and body */
/* This ensures pages with colored backgrounds (like BioEnsemble yellow) */
/* don't show through outside the filtered #root area */
html:has(body.high-contrast),
body.high-contrast {
  --page-bg: #FDFDFD !important;
  background-color: #FDFDFD !important;
}

/* Navigation link styles (menu, tabs) */
.nav-link {
  text-decoration: none;
  cursor: pointer;
}

.nav-link:hover {
  text-decoration: underline;
  text-decoration-thickness: 1px;
}

/* Language toggle hover effect */
.language-toggle:hover span {
  text-decoration: underline;
  text-decoration-thickness: 1px;
}

.language-toggle svg {
  display: inline-block;
}

.language-toggle:hover svg {
  border-bottom: 1.5px solid currentColor;
}

.nav-link--active {
  text-decoration: underline;
}

/* Alias for bio navigation */
.bio-nav-link {
  text-decoration: none;
  cursor: pointer;
}

.bio-nav-link:hover {
  text-decoration: underline;
}

.bio-nav-link--active {
  text-decoration: underline;
}

/* Filter tab styles (Nadchodzące/Archiwalne, Zdjęcia/Wideo) */
.filter-tab {
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s ease;
}

.filter-tab:hover {
  color: #761FE0;
  text-decoration: underline;
}

.filter-tab--active {
  text-decoration: underline;
}

/* External link button styles (CROSSFADE, REQUIEM, NAJBLIŻSZE WYDARZENIA) */
.external-link-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  text-decoration: none;
  border: 2px solid transparent;
  padding: 0;
  background: none;
  outline: none;
  transition: border-color 0.2s ease, padding 0.2s ease;
}

.external-link-btn .external-link-btn__text {
  text-decoration: underline;
  text-underline-position: from-font;
}

/* Arrow hidden by default, visible on hover/focus */
.external-link-btn .external-link-btn__arrow {
  opacity: 0;
  transition: opacity 0.2s ease;
}

.external-link-btn:hover .external-link-btn__arrow {
  opacity: 1;
}

.external-link-btn:hover .external-link-btn__text {
  text-decoration: underline;
}

.external-link-btn:focus-visible {
  border-color: #761FE0;
  padding: 6px 8px;
}

.external-link-btn:focus-visible .external-link-btn__arrow {
  opacity: 1;
}

.external-link-btn:focus-visible .external-link-btn__text {
  text-decoration: none;
}

/* Text link button (internal links like NAJBLIŻSZE WYDARZENIA) */
.text-link-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  text-decoration: underline;
  text-underline-position: from-font;
  border: 2px solid transparent;
  padding: 0;
  background: none;
  outline: none;
  transition: border-color 0.2s ease, padding 0.2s ease, text-decoration 0.2s ease, color 0.2s ease;
}

/* Arrow hidden by default, visible on hover/focus */
.text-link-btn .text-link-btn__arrow {
  opacity: 0;
  transition: opacity 0.2s ease;
}

.text-link-btn:hover .text-link-btn__arrow {
  opacity: 1;
}

.text-link-btn:hover {
  color: #761FE0 !important;
  text-decoration: underline;
}

.text-link-btn:focus-visible {
  border-color: #761FE0;
  padding: 6px 8px;
  text-decoration: none;
}

.text-link-btn:focus-visible .text-link-btn__arrow {
  opacity: 1;
}

/* Event title link (Kalendarz) */
.event-title-link {
  text-decoration: underline;
  text-underline-position: from-font;
  transition: color 0.2s ease;
}

.event-title-link:hover {
  color: #761FE0 !important;
}

/* Event poster clickable */
.event-poster-link {
  display: block;
  cursor: pointer;
}

.event-poster-link:hover {
  opacity: 0.9;
}

/* Ticket button (KUP BILET) */
.ticket-btn {
  transition: background-color 0.2s ease, border 0.2s ease;
  border: 3px solid transparent;
}

.ticket-btn:hover {
  background-color: #3478ff !important;
}

.ticket-btn:active {
  background-color: #3478ff !important;
  border: 3px solid #131313 !important;
}

.ticket-btn:disabled,
.ticket-btn[aria-disabled="true"] {
  background-color: #5b5b5b !important;
  cursor: not-allowed;
  pointer-events: none;
}

/* High Contrast Mode - applied to #root and #lines-root, not body, to preserve fixed positioning */
body.high-contrast #root {
  filter: contrast(1.5) grayscale(1);
}

/* Apply filter to all elements inside #lines-root */
body.high-contrast #lines-root,
body.high-contrast #lines-root *,
body.high-contrast #lines-root > div,
body.high-contrast #lines-root > div > div {
  filter: contrast(1.5) grayscale(1) !important;
}

/* Apply filter to all elements inside #fixed-root (fixed header, etc.) */
/* The container itself stays unfiltered to preserve position: fixed */
body.high-contrast #fixed-root > *,
body.high-contrast #fixed-root > * * {
  filter: contrast(1.5) grayscale(1);
}


/* Apply filter to mobile menu portal content - target specific elements only */
/* Don't filter container elements (div, nav) because that would grayscale */
/* the contrast toggle even though it has its own filter rule */
/* CSS filters on parents affect ALL child rendering regardless of child filters */

/* Close button and its icon */
body.high-contrast #mobile-menu-root .mobile-menu-close,
body.high-contrast #mobile-menu-root .mobile-menu-close * {
  filter: contrast(1.5) grayscale(1);
}

/* Navigation links */
body.high-contrast #mobile-menu-root .nav-link {
  filter: contrast(1.5) grayscale(1);
}

/* Language toggle */
body.high-contrast #mobile-menu-root .language-toggle {
  filter: contrast(1.5) grayscale(1);
}

/* Contrast toggle - only contrast, NO grayscale to keep yellow visible */
body.high-contrast #mobile-menu-root .contrast-toggle-btn,
body.high-contrast #mobile-menu-root .contrast-toggle-btn * {
  filter: contrast(1.5);
}

/* Force white backgrounds in high contrast mode for full-page backgrounds */
/* This prevents colored backgrounds from becoming medium gray */
/* Exclude decorative-line elements which should stay dark */
body.high-contrast #lines-root > div[style*="background-color"]:not(.decorative-line),
body.high-contrast #fixed-root > div[style*="background-color"]:not(.decorative-line) {
  background-color: #FDFDFD !important;
}

/* Force decorative lines to be dark in high contrast mode */
/* This ensures maximum contrast between lines and white background */
/* Use high specificity to override any inline styles */
body.high-contrast .decorative-line,
body.high-contrast #lines-root .decorative-line,
body.high-contrast #lines-root > .decorative-line,
body.high-contrast #root .decorative-line,
body.high-contrast #fixed-root .decorative-line {
  background-color: #131313 !important;
}

/* Lines root for full-page decorative elements (below content) */
#lines-root {
  position: fixed;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  z-index: 1;
  pointer-events: none;
  overflow: visible;
}

/* Root needs z-index to stack above #lines-root */
#root {
  position: relative;
  z-index: 2;
}

/* Fixed root stays unfiltered so position: fixed works correctly */
/* Container is click-through; individual fixed elements manage their own pointer-events */
#fixed-root {
  position: fixed;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  z-index: 9999;
  pointer-events: none;
  overflow: visible;
}

/* Mobile header root - for fixed mobile headers (similar to fixed-root) */
/* Unlike fixed-root, this needs pointer-events: auto because the header buttons need to be clickable */
#mobile-header-root {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: auto;
  z-index: 100;
  pointer-events: none;
  overflow: visible;
}

/* Enable pointer events on mobile header content */
#mobile-header-root > * {
  pointer-events: auto;
}

/* Apply high contrast filter to mobile header portal */
body.high-contrast #mobile-header-root > *,
body.high-contrast #mobile-header-root > * * {
  filter: contrast(1.5) grayscale(1);
}

/* Force white backgrounds in mobile header high contrast mode */
body.high-contrast #mobile-header-root > div[style*="background-color"] {
  background-color: #FDFDFD !important;
}

/* Force white backgrounds on mobile scrollable sections in high contrast mode */
body.high-contrast [data-section] {
  background-color: #FDFDFD !important;
}

/* Force white background on ResponsiveWrapper container in high contrast mode */
/* This prevents colored page backgrounds from showing as gray when filtered */
body.high-contrast #root > div {
  background: #FDFDFD !important;
}

/* Contrast toggle container - exclude from grayscale filter so icon stays visible */
/* The container and all its children need filter: none to prevent parent filter inheritance */
body.high-contrast #fixed-root .controls-container,
body.high-contrast #fixed-root .controls-container * {
  filter: none !important;
}

/* Contrast toggle icon - needs to stay yellow with enhanced contrast */
body.high-contrast .contrast-toggle-btn,
body.high-contrast .contrast-toggle-btn * {
  filter: contrast(1.5) !important;
}

/* ============================================
   WCAG 2.4.7 Focus Indicators
   ============================================ */

/* ContrastToggle focus indicator */
.contrast-toggle-btn:focus-visible {
  outline: 2px solid #761FE0;
  outline-offset: 2px;
  border-radius: 4px;
}

/* ContrastToggle focus in high contrast mode - yellow outline */
body.high-contrast .contrast-toggle-btn:focus-visible {
  outline-color: #FFBD19;
}

/* LanguageText focus indicator */
.language-toggle:focus-visible {
  outline: 2px solid #761FE0;
  outline-offset: 2px;
  border-radius: 4px;
}

/* LanguageText focus in high contrast mode - yellow outline */
body.high-contrast .language-toggle:focus-visible {
  outline-color: #FFBD19;
}

/* MobileMenu close button focus indicator */
.mobile-menu-close:focus-visible {
  outline: 2px solid #761FE0;
  outline-offset: 2px;
  border-radius: 4px;
}

body.high-contrast .mobile-menu-close:focus-visible {
  outline-color: #FFBD19;
}

/* MobileHeader MENU button focus indicator */
.mobile-menu-btn:focus-visible {
  outline: 2px solid #761FE0;
  outline-offset: 2px;
  border-radius: 4px;
}

body.high-contrast .mobile-menu-btn:focus-visible {
  outline-color: #FFBD19;
}

/* ============================================
   Skip Link (WCAG 2.4.1)
   ============================================ */
.skip-link:focus,
.skip-link:focus-visible {
  top: 20px !important;
  outline: 2px solid #761FE0;
  outline-offset: 2px;
}

body.high-contrast .skip-link:focus,
body.high-contrast .skip-link:focus-visible {
  outline-color: #FFBD19;
  background-color: #000000;
}
